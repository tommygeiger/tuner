(this.webpackJsonpTuner=this.webpackJsonpTuner||[]).push([[0],{27:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(12),s=a.n(i),r=a(20),o=a(30),l=a(44),u=a(143),d=a(140),p={seed_tracks:null,seed_artists:null,acousticness:null,danceability:null,energy:null,instumentalness:null,liveness:null,loudness:null,popularity:null,tempo:null,valence:null},j=c.a.createContext({params:p,setParams:function(){}}),m=a(2);var h=function(){var e={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(document.cookie.split("=")[1].split(";")[0])},t=Object(n.useState)([]),a=Object(r.a)(t,2),i=a[0],s=a[1],p=Object(n.useContext)(j),h=p.params;return p.setParams,Object(m.jsx)("div",{className:"SearchBar",children:Object(m.jsx)(u.a,{options:i,getOptionLabel:function(e){return"".concat(e.name?"".concat(e.name," - "):"").concat(e.artists)},renderOption:function(e){return Object(m.jsxs)(c.a.Fragment,{children:[e.img&&Object(m.jsx)("img",{src:e.img,width:32,height:32,alt:"album artwork"}),"\xa0",e.name&&Object(m.jsxs)("span",{children:[e.name," -\xa0"]}),e.artists,"\xa0",e.explicit&&Object(m.jsx)("span",{style:{fontSize:".75em",fontWeight:"bold",color:"red"},children:"E"})]})},autoHighlight:!0,autoSelect:!0,noOptionsText:"Search for Artists or Tracks...",onInputChange:function(t,a,n){a&&""!==a&&fetch("https://api.spotify.com/v1/search?q=".concat(a.split(" ").join("%20"),"&type=track,artist&limit=5"),{headers:e}).then((function(e){return e.json()})).then((function(e){var t=e.artists.items.map((function(e){return{type:"Artists",artists:e.name,img:e.images.length?e.images.slice(-1)[0].url:null,id:e.id}})),a=e.tracks.items.map((function(e){return{type:"Tracks",name:e.name,artists:e.artists.map((function(e){return e.name})).join(", "),img:e.album.images.length?e.album.images.slice(-1)[0].url:null,explicit:e.explicit,id:e.id}}));s([].concat(Object(l.a)(a),Object(l.a)(t)))})).catch((function(e){console.error("Error:",e)}))},filterOptions:function(e,t){return e},getOptionSelected:function(e,t){return e},renderInput:function(e){return Object(m.jsx)(d.a,Object(o.a)(Object(o.a)({},e),{},{label:"Start with an Artist or Track",variant:"outlined"}))},onChange:function(e,t){if(t)switch(t.type){case"Tracks":h.seed_tracks=t.id,h.seed_artists=null;break;case"Artists":h.seed_tracks=null,h.seed_artists=t.id}},groupBy:function(e){return e.type}})})},b=a(142),f=a(135),g=a(136),y=a(134),O=a(144),x=a(137),v=a(68),k=a.n(v),w=a(101);a(27);var _=function(e){var t=e.track;return Object(m.jsx)("div",{className:"PlaylistElement",style:{backgroundColor:e.color,borderRadius:5,paddingLeft:10},children:Object(m.jsxs)(b.a,{display:"flex",style:{alignItems:"center"},children:[Object(m.jsx)("img",{src:t.img,width:40,height:40,alt:"album artwork"}),Object(m.jsxs)(w.a,{children:["\xa0",t.artist," - ",t.title,"\xa0",t.explicit&&Object(m.jsx)("span",{style:{fontSize:".75em",fontWeight:"bold",color:"red"},children:"E"})]}),Object(m.jsx)("div",{className:"Right",style:{paddingRight:10},children:Object(m.jsx)(y.a,{href:"spotify:track:".concat(t.id),children:Object(m.jsx)(k.a,{})})})]},t.title)})},C=a(69),S=a.n(C),T=a(70),P=a.n(T),z=["Girl put your records on","Pump up the jam","Fly me to the moon","Hit me baby one more time","Beat it","Thank you, next","Twist and shout","Don't bring me down","I need a one dance","Kiss me through the phone","Take a chance on me","Drop it like it's hot","Give it to me","Let's get it started","Come on Eileen","I'm sorry Ms. Jackson","Rock me like a wagon wheel","Send me on my way","Please don't stop the music","Gimme gimme more","Start me up","Light my fire","Go your own way","Take a walk on the wild side","Dream on","Let's dance","We will rock you","Just what I needed","Don't stop believing","I wanna dance with somebody","Girls just wanna have fun","Get down on it","Voulez vous"];var N=function(){var e={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(document.cookie.split("=")[1].split(";")[0])},t=Object(n.useContext)(j),a=t.params,c=(t.setParams,Object(n.useState)()),i=Object(r.a)(c,2),s=i[0],o=i[1],u=Object(n.useState)(z[Math.floor(Math.random()*z.length)]),d=Object(r.a)(u,2),p=d[0],h=d[1],v=["#e6e6e6a0","#ffffff00"],k=Object(n.useState)(!1),w=Object(r.a)(k,2),C=w[0],T=w[1],N=function(e,t){"clickaway"!==t&&T(!1)};return Object(m.jsxs)("div",{className:"Playlist",children:[Object(m.jsxs)(b.a,{display:"flex",alignItems:"center",children:[Object(m.jsx)("div",{className:"Center",children:Object(m.jsx)(f.a,{style:{textTransform:"capitalize"},color:"primary",variant:"contained",onClick:function(){if(h(z[Math.floor(Math.random()*z.length)]),a.seed_albums||a.seed_artists||a.seed_tracks){var t="https://api.spotify.com/v1/recommendations?market=US"+"".concat(a.seed_tracks?"&seed_tracks=".concat(a.seed_tracks):"")+"".concat(a.seed_artists?"&seed_artists=".concat(a.seed_artists):"")+"".concat(a.acousticness?"&target_acousticness=".concat(a.acousticness):"")+"".concat(a.danceability?"&target_danceability=".concat(a.danceability):"")+"".concat(a.energy?"&target_energy=".concat(a.energy):"")+"".concat(a.instumentalness?"&target_instumentalness=".concat(a.instumentalness):"")+"".concat(a.liveness?"&target_liveness=".concat(a.liveness):"")+"".concat(a.loudness?"&target_loudness=".concat(a.loudness):"")+"".concat(a.popularity?"&target_popularity=".concat(a.popularity):"")+"".concat(a.tempo?"&target_tempo=".concat(a.tempo):"")+"".concat(a.valence?"&target_valence=".concat(a.valence):"");fetch(t,{headers:e}).then((function(e){return e.json()})).then((function(e){o(e.tracks.map((function(e){return{title:e.name,artist:e.artists[0].name,img:e.album.images.slice(-1)[0].url,explicit:e.explicit,id:e.id}})))}),(function(e){console.error("Error:",e)}))}},children:p})}),Object(m.jsx)("div",{className:"Right",children:Object(m.jsx)(g.a,{arrow:!0,title:"Save playlist to Spotify",placement:"left",children:Object(m.jsx)("span",{children:Object(m.jsx)(y.a,{onClick:function(){var t={method:"POST",headers:e,body:JSON.stringify({name:"New Tuner Playlist",public:!1})};fetch("https://api.spotify.com/v1/users/".concat(document.cookie.split("=")[2].split(";")[0],"/playlists"),t).then((function(e){return e.json()})).then((function(e){t.body=JSON.stringify({uris:s.map((function(e){return"spotify:track:".concat(e.id)}))}),console.log(t),fetch("https://api.spotify.com/v1/playlists/".concat(e.id,"/tracks"),t).then((function(e){return e.json()})).then((function(e){}),(function(e){console.error("Error:",e)}))}),(function(e){console.error("Error:",e)})).then(T(!0))},disabled:!s,children:Object(m.jsx)(S.a,{style:{height:"1.25em",width:"1.25em"}})})})})})]}),s?Object(m.jsx)("div",{style:{marginTop:20},children:s.map((function(e,t){return Object(m.jsx)(_,{track:e,color:v[t%v.length]},e.id)}))}):Object(l.a)(Array(10)).map((function(e,t){return Object(m.jsx)(x.a,{height:90,animation:!1},t)})),Object(m.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:C,autoHideDuration:6e3,onClose:N,message:"Playlist created!",action:Object(m.jsx)(n.Fragment,{children:Object(m.jsx)(y.a,{size:"small","aria-label":"close",color:"inherit",onClick:N,children:Object(m.jsx)(P.a,{fontSize:"small"})})})})]})},A=a(5),I=a(138),L=a(145),E=a(146),H=a(71),B=a.n(H),D=Object(A.a)((function(){return{tooltip:{backgroundColor:"#ffffff",color:"#000000",maxWidth:200,fontSize:".75em"},arrow:{"&::before":{backgroundColor:"#ffffff"}}}}))(g.a);var G=function(e){var t=Object(n.useContext)(j),a=t.params,c=t.setParams,i=Object(n.useState)(!1),s=Object(r.a)(i,2),l=s[0],u=s[1],d=Object(n.useState)(50),p=Object(r.a)(d,2),h=p[0],f=p[1],g=Object(n.useState)(!1),O=Object(r.a)(g,2),x=O[0],v=O[1],k=function(){v(!1)};return Object(m.jsxs)(b.a,{display:"flex",style:{alignItems:"center",paddingTop:5,paddingRight:20,paddingLeft:5},children:[Object(m.jsx)(I.a,{onClickAway:k,children:Object(m.jsx)("div",{children:Object(m.jsx)(D,{arrow:!0,PopperProps:{disablePortal:!0},disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,onClose:k,open:x,title:e.description,placement:"right",children:Object(m.jsx)(y.a,{onClick:function(){v(!x)},style:{height:".75em",width:".75em"},children:Object(m.jsx)(B.a,{style:{height:".75em",width:".75em"}})})})})}),Object(m.jsx)(w.a,{variant:"subtitle1",style:{minWidth:110,textAlign:"left",textTransform:"capitalize"},children:e.param}),Object(m.jsx)("div",{style:{paddingRight:20},children:Object(m.jsx)(L.a,{size:"small",color:"primary",checked:l,onChange:function(){if(l){var t=Object(o.a)({},a);t[e.param]=null,c(t),u(!1)}else{var n=Object(o.a)({},a);n[e.param]=h,c(n),u(!0)}},name:"checked",inputProps:{"aria-label":"switch"}})}),Object(m.jsx)(E.a,{color:"primary",disabled:!l,valueLabelDisplay:"auto","aria-label":e.param,defaultValue:50,onChange:function(t,n){var i=Object(o.a)({},a);i[e.param]=n,c(i),f(n)}})]})};var R=function(){return Object(m.jsxs)("div",{className:"Controls",children:[Object(m.jsx)(G,{param:"acousticness",description:"How acoustic sounding a track is. Higher values mean  fewer electric instruments, like synthesizers and electric guitars."}),Object(m.jsx)(G,{param:"danceability",description:"Does that song make you want to dance? If yes, it's danceable. Higher values mean more dancable tracks."}),Object(m.jsx)(G,{param:"energy",description:"Some songs are perfect for pregames, while others are more suited for a dinner party. Higher values mean more energetic songs, while lower values means calmer ones."}),Object(m.jsx)(G,{param:"popularity",description:"An objective measurement of popularity on Spotify. Use low values  to hipster-fy your playlist."}),Object(m.jsx)(G,{param:"valence",description:"Valence measures how happy or sad a song is. High values mean happier songs, while low values mean sad boi songs."})]})},F=a.p+"static/media/spotify_logo_black.0d1e5545.png";var J=function(){return Object(m.jsxs)(b.a,{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",children:[Object(m.jsxs)(b.a,{children:[Object(m.jsx)(w.a,{variant:"h2",children:"Tuner"}),Object(m.jsx)(b.a,{m:-2,children:Object(m.jsx)(w.a,{variant:"caption",children:"a playlist generator"})})]}),Object(m.jsx)(b.a,{px:4,mt:3,children:Object(m.jsx)(w.a,{variant:"subtitle2",children:"for"})}),Object(m.jsx)(b.a,{mt:3,children:Object(m.jsx)("img",{src:F,width:236,height:70,alt:"spotify logo"})})]})};var M=function(){var e=Object(n.useState)(p),t=Object(r.a)(e,2),a={params:t[0],setParams:t[1]};return Object(m.jsx)("div",{className:"Body",children:Object(m.jsxs)(j.Provider,{value:a,children:[Object(m.jsx)(J,{}),Object(m.jsx)(h,{}),Object(m.jsx)(R,{}),Object(m.jsx)(N,{})]})})},W=a(139);var V=function(){return Object(m.jsx)("div",{className:"Footer",children:Object(m.jsxs)(w.a,{children:[Object(m.jsx)(W.a,{style:{color:"black"},href:"https://github.com/tommygeiger/spotify-react-app",children:"GitHub"})," - ",Object(m.jsx)(W.a,{style:{color:"black"},href:"https://github.com/tommygeiger/spotify-react-app/blob/main/Cookies.md",children:"Cookies"})]})})},U="https://accounts.spotify.com/authorize?client_id=".concat("3cf6931c4f974651b57c25157fe28427","&redirect_uri=").concat("https://tommygeiger.com/spotify-react-app/","&scope=").concat(["user-read-email","playlist-modify-public","playlist-modify-private","app-remote-control","user-modify-playback-state","user-read-currently-playing"].join("%20"),"&response_type=token&show_dialog=false"),q=window.location.hash.split("&")[0].split("=")[1];var K=function(){return Object(m.jsx)(f.a,{style:{textTransform:"none"},color:"primary",variant:"contained",size:"large",href:U,children:"Connect to Spotify"})};var Q=function(){return Object(m.jsx)(b.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(m.jsxs)("div",{className:"LandingPage",children:[Object(m.jsxs)("div",{className:"Middle",children:[Object(m.jsx)(J,{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)(K,{})]}),Object(m.jsx)("div",{className:"Bottom",children:Object(m.jsx)(V,{})})]})})};var X=function(){if(q){document.cookie="access-token=".concat(q,"; max-age=3600; path=/"),window.history.pushState(null,null," ");var e={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(document.cookie.split("=")[1].split(";")[0])};fetch("https://api.spotify.com/v1/me",{headers:e}).then((function(e){return e.json()})).then((function(e){document.cookie="user-id=".concat(e.id,"; max-age=3600; path=/")}),(function(e){console.error("Error:",e)}))}return console.log(document.cookie),Object(m.jsx)("div",{className:"App",children:document.cookie?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(M,{}),Object(m.jsx)(V,{})]}):Object(m.jsx)(Q,{})})};a(97);s.a.render(Object(m.jsx)(X,{}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.382958af.chunk.js.map