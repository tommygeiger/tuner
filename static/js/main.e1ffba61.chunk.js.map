{"version":3,"sources":["SearchContext.js","SearchBar.js","PlaylistElement.js","Playlist.js","ParamSlider.js","Controls.js","Body.js","auth.js","Login.js","Header.js","Footer.js","LandingPage.js","App.js","index.js"],"names":["defaultParams","seed_tracks","seed_artists","seed_albums","acousticness","danceability","energy","instumentalness","liveness","loudness","popularity","tempo","valence","SearchContext","React","createContext","params","setParams","SearchBar","headers","document","cookie","split","useState","options","setOptions","useContext","className","Autocomplete","getOptionLabel","option","name","artists","renderOption","Fragment","img","src","width","height","alt","explicit","style","fontSize","fontWeight","color","autoHighlight","autoSelect","onInputChange","event","value","reason","fetch","join","then","response","json","result","albums","items","map","album","type","artist","images","length","slice","url","id","tracks","track","catch","error","console","filterOptions","state","getOptionSelected","renderInput","TextField","label","variant","onChange","groupBy","PlaylistElement","props","deviceId","setDeviceId","backgroundColor","borderRadius","paddingLeft","Box","display","alignItems","Typography","title","Button","onClick","devices","forEach","device","is_active","requestOptions","method","body","JSON","stringify","uris","Playlist","playlist","setPlaylist","colors","log","requestUri","marginTop","index","Array","Skeleton","animation","ValueLabelComponent","children","open","Tooltip","enterTouchDelay","placement","ParamSlider","checked","setState","textAlign","textTransform","param","Switch","target","inputProps","Slider","disabled","aria-label","defaultValue","Controls","Body","Provider","authEndpoint","accessToken","window","location","hash","Login","href","Header","AppBar","position","background","Toolbar","Footer","LandingPage","App","history","pushState","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e1ffba61.chunk.js","sourcesContent":["import React from 'react'\n\nexport const defaultParams = {\n  seed_tracks:null,\n  seed_artists:null,\n  seed_albums:null,\n  acousticness:null,\n  danceability:null,\n  energy:null,\n  instumentalness:null,\n  liveness:null,\n  loudness:null,\n  popularity:null,\n  tempo:null,\n  valence:null\n}\nexport const SearchContext = React.createContext({\n  params: defaultParams,\n  setParams: () => {}\n})\n","import React, { useState, useContext } from 'react'\nimport { Autocomplete } from '@material-ui/lab'\nimport { TextField } from '@material-ui/core'\nimport { SearchContext } from './SearchContext'\n\n/*\n * Search.js is responsible for the dynamic search bar\n */\nfunction SearchBar() {\n\n  const headers = {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n    'Authorization': `Bearer ${document.cookie.split('=')[1]}`\n  }\n\n  const [options, setOptions] = useState([])\n  const { params, setParams } = useContext(SearchContext);\n\n  function updateOptions(event, value, reason) {\n\n    if (value && value!=='') {\n\n      fetch(`https://api.spotify.com/v1/search?q=${value.split(' ').join('%20')}&type=track,album,artist&limit=5`, { headers })\n        .then(response => response.json())\n        .then(\n          (result) => {\n\n            //Parse the json into albums, tracks, artists\n            const albums = result.albums.items.map(album => ({\n              type:'Albums',\n              name:album.name,\n              artists:album.artists.map(artist => artist.name).join(', '),\n              img:(album.images.length ? album.images.slice(-1)[0].url : null),\n              id:album.id\n            }))\n            const artists = result.artists.items.map(artist => ({\n              type:'Artists',\n              artists:artist.name,\n              img:(artist.images.length ? artist.images.slice(-1)[0].url : null),\n              id:artist.id\n            }))\n            const tracks = result.tracks.items.map(track => ({\n              type:'Tracks',\n              name:track.name,\n              artists:track.artists.map(artist => artist.name).join(', '),\n              img:(track.album.images.length ? track.album.images.slice(-1)[0].url : null),\n              explicit:track.explicit,\n              id:track.id\n            }))\n            \n            //console.log(result)\n            //console.log('Destructured:',[...albums, ...artists, ...tracks])\n            setOptions([...tracks, ...albums, ...artists])\n\n          }\n        )\n        .catch(error => {\n          console.error('Error:', error);\n        });\n\n    }\n  }\n\n  return (\n      <div className=\"SearchBar\">\n        <Autocomplete\n          options={options}\n          getOptionLabel={(option) => `${option.name ? `${option.name} - ` : ''}${option.artists}` }\n          renderOption={(option) => (\n            <React.Fragment>\n              { option.img && <img src={option.img} width={32} height={32} alt=\"album artwork\"></img> }\n              &nbsp;\n              { option.name && <span>{option.name} -&nbsp;</span> } \n              {option.artists}\n              &nbsp;\n              { option.explicit && <span style={{fontSize:'.75em',fontWeight:'bold',color:'red'}}>E</span> }\n            </React.Fragment>\n          )}\n          autoHighlight\n          autoSelect\n          onInputChange={updateOptions}\n          filterOptions={(options, state) => options}\n          getOptionSelected={(option, value) => option }\n          renderInput={(params) => <TextField {...params} label=\"Start with a track, album or artist\" variant=\"outlined\"/>}\n          onChange={(event, value) => { \n            //Set the seed values\n            if (value) {\n              switch (value.type){\n                case 'Tracks':\n                  params.seed_tracks = value.id\n                  params.seed_albums = null\n                  params.seed_artists = null\n                  break\n                case 'Albums':\n                  params.seed_tracks = null\n                  params.seed_albums = value.id\n                  params.seed_artists = null\n                  break\n                case 'Artists':\n                  params.seed_tracks = null\n                  params.seed_albums = null\n                  params.seed_artists = value.id\n                  break\n              }\n            }\n          }}\n          groupBy={(option) => option.type}\n        />\n      </div>\n  )\n}\n\nexport default SearchBar","import { useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport PlayCircleOutlineIcon from '@material-ui/icons/PlayCircleOutline';\nimport Box from '@material-ui/core/Box'\nimport './App.css'\nimport { Typography } from '@material-ui/core';\n\nfunction PlaylistElement(props) {\n\n  const headers = {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n    'Authorization': `Bearer ${document.cookie.split('=')[1]}`\n  }\n\n  const option = props.track\n  const [deviceId, setDeviceId] = useState()\n  \n\n  function playTrack() {\n    getDevice()\n    \n    const requestOptions = {\n      method: 'PUT',\n      headers: headers,\n      body: JSON.stringify({ uris: [`spotify:track:${option.id}`] })\n    };\n\n    fetch(`https://api.spotify.com/v1/me/player/play?device_id=${deviceId}`, requestOptions)\n        .then(response => response.json())\n        .then(\n          (result) => {},\n          (error) => {\n            console.error('Error:', error);\n          }\n        )\n  }\n\n  function getDevice() {\n    fetch(`https://api.spotify.com/v1/me/player/devices`, { headers })\n        .then(response => response.json())\n        .then(\n          (result) => {\n            result.devices.forEach(device => {\n              if(device.is_active) {\n                setDeviceId(device.id)\n              }\n            })\n          },\n          (error) => {\n            console.error('Error:', error);\n          }\n        )\n  }\n\n  return (\n    <div className=\"PlaylistElement\" style={{backgroundColor:props.color, borderRadius:10, paddingLeft:10}}>\n      <Box key={option.title} display=\"flex\" style={{alignItems:\"center\"}}>\n\n        <img src={option.img} width={40} height={40} alt=\"album artwork\" style={{borderRadius:\"50%\"}}></img>\n        <Typography>\n          &nbsp;\n          {option.artist} - {option.title}\n          &nbsp;\n          {option.explicit && <span style={{fontSize:'.75em',fontWeight:'bold',color:'red'}}>E</span>}\n        </Typography>\n        <div className=\"Right\">\n        <Button\n          onClick={playTrack}>\n          <PlayCircleOutlineIcon/>\n        </Button>\n        </div>\n\n      </Box>\n    </div>\n  )\n}\n\nexport default PlaylistElement","import { useContext, useState } from 'react'\nimport { SearchContext } from './SearchContext'\nimport Button from '@material-ui/core/Button'\nimport Skeleton from '@material-ui/lab/Skeleton'\nimport PlaylistElement from './PlaylistElement'\nimport './App.css'\n\n/*\n * Playlist.js fetches and renders the recommendations api query\n */\nfunction Playlist() {\n\n  const headers = {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n    'Authorization': `Bearer ${document.cookie.split('=')[1]}`\n  }\n\n  const { params, setParams } = useContext(SearchContext)\n  const [playlist, setPlaylist] = useState()\n  const colors = ['#e3e3e3', '#ffffff']\n\n  //Function to fetch recommendations via the api\n  function fetchPlaylist() {\n    console.log(params)\n    if (params.seed_albums || params.seed_artists || params.seed_tracks) {\n\n      //Build request from params\n      const requestUri = `https://api.spotify.com/v1/recommendations?market=US` +\n      `${params.seed_tracks ? `&seed_tracks=${params.seed_tracks}` : ''}` +\n      `${params.seed_albums ? `&seed_albums=${params.seed_albums}` : ''}` +\n      `${params.seed_artists ? `&seed_artists=${params.seed_artists}` : ''}` +\n      `${params.acousticness ? `&target_acousticness=${params.acousticness}` : ''}` +\n      `${params.danceability ? `&target_danceability=${params.danceability}` : ''}` +\n      `${params.energy ? `&target_energy=${params.energy}` : ''}` +\n      `${params.instumentalness ? `&target_instumentalness=${params.instumentalness}` : ''}` +\n      `${params.liveness ? `&target_liveness=${params.liveness}` : ''}` +\n      `${params.loudness ? `&target_loudness=${params.loudness}` : ''}` +\n      `${params.popularity ? `&target_popularity=${params.popularity}` : ''}` +\n      `${params.tempo ? `&target_tempo=${params.tempo}` : ''}` +\n      `${params.valence ? `&target_valence=${params.valence}` : ''}`\n\n      console.log(requestUri)\n\n      fetch(requestUri, { headers })\n        .then(response => response.json())\n        .then(\n          (result) => {\n            //This parses the returned json\n            setPlaylist(result.tracks.map(track => ({\n              title:track.name, \n              artist:track.artists[0].name, \n              img:track.album.images.slice(-1)[0].url,\n              explicit:track.explicit,\n              id:track.id\n            })))\n          },\n          (error) => {\n            console.error('Error:', error);\n          }\n        )\n\n    }\n  }\n\n  return (\n    <div className=\"Playlist\">\n\n        <Button color=\"primary\" variant=\"contained\" onClick={fetchPlaylist}>\n          Generate playlist\n        </Button>\n\n        { playlist ? (\n          <div style={{marginTop:20}}>\n          { playlist.map((option, index) => (\n            <PlaylistElement track={option} key={option.id} color={colors[index % colors.length]}/>\n          ))}\n          </div>\n        ) : (\n          [...Array(10)].map(() => <Skeleton height={90} animation={false}/>)                \n        )}\n    </div>\n  )\n  \n}\n\nexport default Playlist","import React, { useContext } from 'react'\nimport Slider from '@material-ui/core/Slider'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport PropTypes from 'prop-types'\nimport { Typography } from '@material-ui/core'\nimport Switch from '@material-ui/core/Switch'\nimport Box from '@material-ui/core/Box'\nimport { SearchContext } from './SearchContext'\n\n\nfunction ValueLabelComponent(props) {\n  const { children, open, value } = props;\n  return (\n    <Tooltip open={open} enterTouchDelay={0} placement=\"top\" title={value}>\n      {children}\n    </Tooltip>\n  );\n}\n\nValueLabelComponent.propTypes = {\n  children: PropTypes.element.isRequired,\n  open: PropTypes.bool.isRequired,\n  value: PropTypes.number.isRequired,\n};\n\n\nfunction ParamSlider(props) {\n\n  const { params, setParams } = useContext(SearchContext);\n  const [state, setState] = React.useState({checked: false, value: 50});\n\n  const handleChange = (event) => {\n    \n    //Set param to null\n    (state.checked ? \n      params[props.param] = null\n    :\n      params[props.param] = state.value\n    )\n\n    setState({ ...state, [event.target.name]: event.target.checked })\n    console.log(params)\n\n  };\n\n  return (\n      <Box display=\"flex\" style={{alignItems:\"center\"}}>\n\n        <Typography style={{width:180, textAlign:\"left\", textTransform: \"capitalize\"}}>{props.param}</Typography>\n\n        <Switch\n          color=\"primary\"\n          checked={state.checked}\n          onChange={handleChange}\n          name=\"checked\"\n          inputProps={{ 'aria-label': 'Checkbox' }}\n        />\n\n        <Slider\n          color=\"primary\"\n          disabled={!state.checked}\n          ValueLabelComponent={ValueLabelComponent}\n          aria-label=\"Value\"\n          defaultValue={50}\n          onChange={(event, value) => {\n            setState({checked:state.checked, value:value})\n            params[props.param] = value\n            console.log(params)\n          }}\n        />\n      </Box>    \n  );\n  \n}\n\nexport default ParamSlider;","import ParamSlider from './ParamSlider'\nimport './App.css'\n\nfunction Controls() {\n\n  // acousticness:null,\n  // danceability:null,\n  // energy:null,\n  // instumentalness:null,\n  // liveness:null,\n  // loudness:null,\n  // popularity:null,\n  // tempo:null,\n  // valence:null\n  \n  return (\n    <div className=\"Controls\">\n      <ParamSlider param=\"acousticness\"/>\n      <ParamSlider param=\"danceability\"/>\n      <ParamSlider param=\"energy\"/>\n      <ParamSlider param=\"instrumentalness\"/>\n      <ParamSlider param=\"liveness\"/>\n      <ParamSlider param=\"loudness\"/>\n      <ParamSlider param=\"popularity\"/>\n      <ParamSlider param=\"tempo\"/>\n      <ParamSlider param=\"valence\"/>\n    </div>\n  )\n}\n\nexport default Controls","import React, { useState } from 'react'\nimport SearchBar from './SearchBar'\nimport Playlist from './Playlist'\nimport Controls from './Controls'\nimport { SearchContext, defaultParams } from './SearchContext'\nimport './App.css'\n\nfunction Body() {\n\n  //Check out the docs for State and Context to understand these bits\n  //In a nutshell, variables from useState are persistent across DOM updates\n  //Context variables are accessible in all children who call the useContext hook\n  const [params, setParams] = useState(defaultParams)\n  const value = { params, setParams }\n\n  return (\n    <div className=\"Body\">\n      <SearchContext.Provider value={value}>\n        <SearchBar />\n        <Controls />\n        <Playlist />\n      </SearchContext.Provider>\n    </div>\n  )\n}\n\nexport default Body;","const clientId = '3cf6931c4f974651b57c25157fe28427';\nconst redirectUri = 'https://tommygeiger.com/spotify-react-app/';\nconst scopes = [\n    'user-read-email',\n    'playlist-modify-public',\n    'playlist-modify-private',\n    'app-remote-control',\n    'user-modify-playback-state',\n    'user-read-currently-playing'\n];\n\nexport const authEndpoint = `https://accounts.spotify.com/authorize?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join('%20')}&response_type=token&show_dialog=false`;\nexport const accessToken = window.location.hash.split('&')[0].split('=')[1];\n","import { authEndpoint } from './auth'\nimport Button from '@material-ui/core/Button'\n\nfunction Login() {\n  return( \n    <Button variant=\"contained\" href={authEndpoint}>\n      Connect to Spotify\n    </Button>\n  )\n}\n\nexport default Login","import { AppBar, Toolbar, Typography, } from '@material-ui/core'\nimport Login from './Login'\nimport './App.css'\n\n/*\n * Header.js is responsible for displaying the header / navbar\n */\nfunction Header() {\n\n  const style = {\n    background : '#2ab859'\n  };\n\n  return (\n    <AppBar position=\"static\" style={style}>\n      <Toolbar>\n        <Typography variant=\"h6\">\n          spotify-react-app\n        </Typography>\n        { !document.cookie &&\n          <div className=\"Right\">\n            <Login />\n          </div>\n        }\n      </Toolbar>\n    </AppBar>\n  )\n}\n\nexport default Header;","import './App.css'\n\nfunction Footer() {\n  return( \n    <div className=\"Footer\">\n      Footer\n    </div>\n  )\n}\n\nexport default Footer","\nfunction LandingPage() {\n\n  return (\n    <div>\n      <h1>Landing page</h1>\n    </div>\n  )\n}\n\nexport default LandingPage","import Body from './Body'\nimport Header from './Header'\nimport Footer from './Footer'\nimport LandingPage from './LandingPage'\nimport { accessToken } from './auth'\nimport './App.css'\n\n/*\n * App.js is the outermost React compenent, responsible for rendering all other components\n */\nfunction App() {\n\n  //Get access token and save to cookie\n  if (accessToken) {\n    document.cookie = `access-token=${accessToken}; max-age=3600; path=/`;\n    window.history.pushState(null, null, ' ');\n  }\n  console.log(document.cookie.split('=')[1]);\n \n  return (\n    <div className=\"App\">\n      <Header />\n      { document.cookie ?\n        <Body />\n      :\n        <LandingPage />\n      }\n      <Footer />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n/*\nindex.js plugs App.js into index.html\n*/\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}