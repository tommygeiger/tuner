(this["webpackJsonpspotify-react-app"]=this["webpackJsonpspotify-react-app"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n.n(a),i=n(8),c=n.n(i),r=(n(14),n(3)),o=n(4),h=n(6),l=n(5),u=window.location.hash.substring(1).split("&").reduce((function(t,e){if(e){var n=e.split("=");t[n[0]]=decodeURIComponent(n[1])}return t}),{});window.location.hash="";var p=u,j=["user-read-private","user-read-email"],d=(n(15),n(9)),b=n(2),m=n(0),O=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state={error:null,isLoaded:!1,items:[],token:a.props.dataFromParent,seed_track:"",min_pop:""},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a}return Object(o.a)(n,[{key:"handleChange",value:function(t){var e=t.target.value,n=t.target.name;this.setState(Object(d.a)({},n,e))}},{key:"handleSubmit",value:function(t){var e=this;t.preventDefault();var n={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(this.state.token)};console.log(this.state.seed_track),this.state.seed_track&&this.state.min_pop&&fetch("https://api.spotify.com/v1/recommendations?market=US&seed_tracks=".concat(this.state.seed_track,"&min_popularity=").concat(this.state.min_pop),{headers:n}).then((function(t){return t.json()})).then((function(t){e.setState({isLoaded:!0,items:t})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"render",value:function(){var t=this.state,e=t.error,n=t.isLoaded,a=t.items;return e?Object(m.jsxs)("div",{children:["Error: ",e.message]}):n?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(m.jsxs)("label",{children:["Seed Track ID:",Object(m.jsx)("input",{name:"seed_track",type:"text",value:this.state.seed_track,onChange:this.handleChange})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("label",{children:["Min Popularity (0-100):",Object(m.jsx)("input",{name:"min_pop",type:"text",value:this.state.min_popularity,onChange:this.handleChange})]}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"submit",value:"Submit"})]}),Object(m.jsx)("br",{}),Object(m.jsx)("ul",{children:a.tracks.map((function(t){return Object(m.jsxs)("li",{children:[t.artists[0].name," - ",t.name]})}))})]}):Object(m.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(m.jsxs)("label",{children:["Seed Track ID:",Object(m.jsx)("input",{name:"seed_track",type:"text",value:this.state.seed_track,onChange:this.handleChange})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("label",{children:["Min Popularity (0-100):",Object(m.jsx)("input",{name:"min_pop",type:"text",value:this.state.min_popularity,onChange:this.handleChange})]}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"submit",value:"Submit"})]})}}]),n}(s.a.Component),x=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this)).state={token:null},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=p.access_token;t&&this.setState({token:t})}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("br",{}),Object(m.jsxs)("h1",{children:["Tune",Object(m.jsx)("span",{style:{color:"mediumseagreen"},children:"Spot"})]}),Object(m.jsx)("br",{}),!this.state.token&&Object(m.jsx)("a",{className:"btn btn--loginApp-link",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("3cf6931c4f974651b57c25157fe28427","&redirect_uri=").concat("https://tommygeiger.com/spotify-react-app/","&scope=").concat(j.join("%20"),"&response_type=token&show_dialog=true"),children:"Log In with Spotify"}),this.state.token&&Object(m.jsx)(O,{dataFromParent:this.state.token})]})}}]),n}(a.Component);c.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(x,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.87a221ba.chunk.js.map