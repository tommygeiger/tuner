{"version":3,"sources":["Hash.js","Config.js","Recommender.js","App.js","index.js"],"names":["hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","scopes","Recommender","props","state","error","isLoaded","items","token","dataFromParent","seed_track","min_pop","handleChange","bind","handleSubmit","event","value","target","name","this","setState","preventDefault","headers","console","log","fetch","then","response","json","result","message","onSubmit","type","onChange","min_popularity","tracks","map","track","artists","React","Component","App","_token","access_token","className","style","color","href","join","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.12ef48f6.chunk.js","sourcesContent":["const hash = window.location.hash\n  .substring(1)\n  .split(\"&\")\n  .reduce(function(initial, item) {\n    if (item) {\n      var parts = item.split(\"=\");\n      initial[parts[0]] = decodeURIComponent(parts[1]);\n    }\n    return initial;\n  }, {});\nwindow.location.hash = \"\";\n\nexport default hash;","export const authEndpoint = \"https://accounts.spotify.com/authorize\";\nexport const clientId = \"3cf6931c4f974651b57c25157fe28427\";\nexport const redirectUri = \"https://tommygeiger.com/spotify-react-app/callback\";\nexport const scopes = [\n    \"user-read-private\",\n    \"user-read-email\"\n];","import React from 'react'\n\nclass Recommender extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      items: [],\n      token: this.props.dataFromParent,\n      seed_track: '',\n      min_pop: ''\n\n    };\n    \n    //Bind\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    const value = event.target.value;\n    const name = event.target.name;\n    this.setState({[name]: value});\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    const headers = {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json',\n      'Authorization': `Bearer ${this.state.token}`\n    }\n\n    console.log(this.state.seed_track);\n\n    if (this.state.seed_track && this.state.min_pop) {\n      fetch(`https://api.spotify.com/v1/recommendations?market=US&seed_tracks=${this.state.seed_track}&min_popularity=${this.state.min_pop}`, { headers })\n        .then(response => response.json())\n        .then(\n          (result) => {\n            this.setState({\n              isLoaded: true,\n              items: result\n\n            });\n          },\n          // Note: it's important to handle errors here\n          // instead of a catch() block so that we don't swallow\n          // exceptions from actual bugs in components.\n          (error) => {\n            this.setState({\n              isLoaded: true,\n              error\n            });\n          }\n        )\n    }\n  }\n\n  render() {\n    const { error, isLoaded, items } = this.state;\n\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return (\n        <form onSubmit={this.handleSubmit}>\n            <label>\n              Seed Track ID:\n            <input \n              name=\"seed_track\" \n              type=\"text\" \n              value={this.state.seed_track}\n              onChange={this.handleChange} />\n            </label>\n            <br/>\n            <label>\n              Min Popularity (0-100):\n            <input \n              name=\"min_pop\" \n              type=\"text\" \n              value={this.state.min_popularity}\n              onChange={this.handleChange}   />\n            </label>\n            <br/>\n            <input type=\"submit\" value=\"Submit\" />\n          </form>\n      );\n    } else {\n      return (\n        <>\n          <form onSubmit={this.handleSubmit}> \n            <label>\n              Seed Track ID:\n            <input \n              name=\"seed_track\" \n              type=\"text\" \n              value={this.state.seed_track}\n              onChange={this.handleChange}  />\n            </label>\n            <br/>\n            <label>\n              Min Popularity (0-100):\n            <input \n              name=\"min_pop\" \n              type=\"text\" \n              value={this.state.min_popularity}\n              onChange={this.handleChange}  />\n            </label>\n            <br/>\n            <input type=\"submit\" value=\"Submit\" />\n          </form>\n          <br/>\n          <ul>\n            {items.tracks.map(track => (\n              <li>\n                {track.artists[0].name} - {track.name}\n              </li>\n            ))}\n          </ul>\n        </>\n      );\n    }\n  }\n}\n\nexport default Recommender;","import React, { Component } from \"react\";\nimport hash from \"./Hash\";\nimport { authEndpoint, clientId, redirectUri, scopes } from \"./Config\";\nimport \"./App.css\"\nimport Recommender from \"./Recommender\"\n\n\nclass App extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      token: null,\n    };\n\n  }\n\n  componentDidMount() {\n    let _token = hash.access_token;\n\n    if (_token) {\n      this.setState({\n        token: _token\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className='App'>\n        <br/>\n        <h1>Tune<span style={{color: \"mediumseagreen\"}}>Spot</span></h1>\n        <br/>\n        {!this.state.token && (\n\n        <a\n          className=\"btn btn--loginApp-link\"\n          href={`${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\n            \"%20\"\n          )}&response_type=token&show_dialog=true`}\n        >\n          Log In with Spotify\n        </a>\n\n        )}\n        {this.state.token && (\n\n        <Recommender dataFromParent = {this.state.token} />\n                \n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}